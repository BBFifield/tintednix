/*
  Based upon the dracula theme for libadwaita
  and adw-gtk3 - https://github.com/lassekongo83/adw-gtk3

  1. If ~/.config/gtk-4.0/gtk.css and/or ~/.config/gtk-3.0/gtk.css exists, make backups
  2. Enable the adw-gtk3-dark theme
  3. Save this file to ~/.config/gtk-4.0/gtk.css
  4. Make the file a symbolic link to ~/.config/gtk-3.0/gtk.css (or copy it to that location)
  5. Close and re-open any open apps or log out and in again
*/

/* Global color definitions */

/* {{{scheme-name}}} by {{{scheme-author}}} */

$variant: {{scheme-variant}}; // “dark” or “light”


@function general-thin-shadow($var-name) { @return "1px 2px 2px rgba(0, 0, 0, 0.17), 2px 4px 4px rgba(0, 0, 0, 0.2), -1px -1px 0px color-mix(in oklab, var(#{$var-name}) 80%, white 10%)"; }
@function bright-thin-shadow($var-name) { @return "1px 2px 2px rgba(0, 0, 0, 0.17), 2px 4px 4px rgba(0, 0, 0, 0.2), -1px -1px 0px color-mix(in oklab, var(#{$var-name}) 80%, white 30%)"; }
@function general-wide-shadow($var-name) { @return "4px 12px 10px rgba(0, 0, 0, 0.2), 7px 18px 14px rgba(0, 0, 0, 0.21), 10px 24px 18px rgba(0, 0, 0, 0.25), 14px 30px 24px rgba(0, 0, 0, 0.3), -1px -1px 0px color-mix(in oklab, var(#{$var-name}) 80%, white 10%)"; }

@function general-inset-shadow($var-name) { @return "1px 2px 2px color-mix(in oklab, var(#{$var-name}) 80%, black 20%) inset, 2px 4px 4px color-mix(in oklab, var(#{$var-name}) 80%, black 20%) inset"; }
@function progress-empty-inset-shadow($var-name) { @return "1px 1px 1px color-mix(in oklab, var(#{$var-name}) 80%, black 20%) inset, 2px 2px 2px color-mix(in oklab, var(#{$var-name}) 80%, black 20%) inset"; }
@function bg-highlight-inset-shadow($var-name) { @return "-1px -1px 0px color-mix(in oklab, var(#{$var-name}) #{if($variant == dark, "80%, white 10%", "0%, white 100%")}) inset"; }
@function base02-highlight-inset-shadow() { @return "-1px -1px 0px color-mix(in oklab, var(--base02) #{if($variant == dark, "80%, white 10%", "50%, white 50%")}) inset"}
@function base0D-highlight-inset-shadow() { @return "-1px -1px 0px color-mix(in oklab, var(--base0D) #{if($variant == dark, "80%, white 20%", "70%, white 30%")}) inset"; }

@define-color base00 #{{base00-hex}};
@define-color base01 #{{base01-hex}};
@define-color base02 #{{base02-hex}};
@define-color base03 #{{base03-hex}};
@define-color base04 #{{base04-hex}};
@define-color base05 #{{base05-hex}};
@define-color base06 #{{base06-hex}};
@define-color base07 #{{base07-hex}};
@define-color base08 #{{base08-hex}};
@define-color base09 #{{base09-hex}};
@define-color base0A #{{base0A-hex}};
@define-color base0B #{{base0B-hex}};
@define-color base0C #{{base0C-hex}};
@define-color base0D #{{base0D-hex}};
@define-color base0E #{{base0E-hex}};
@define-color base0F #{{base0F-hex}};

@define-color window_bg_color @base01;
@define-color window_fg_color @base0D;
@define-color view_bg_color   @base00;
@define-color view_fg_color   @window_fg_color;
@define-color accent_bg_color @base0D;
@define-color accent_color    @accent_bg_color;
@define-color headerbar_bg_color    @window_bg_color;
@define-color headerbar_fg_color    @window_fg_color;
@define-color headerbar_border_color @base02;
@define-color popover_bg_color @base01;
@define-color popover_fg_color @view_fg_color;
@define-color dialog_bg_color  @popover_bg_color;
@define-color dialog_fg_color  @popover_fg_color;
@define-color card_bg_color    rgba(255,255,255,0.08);
@define-color card_fg_color    @window_fg_color;
@define-color sidebar_bg_color @headerbar_bg_color;
@define-color sidebar_fg_color @window_fg_color;
@define-color sidebar_backdrop_color @window_bg_color;
@define-color sidebar_border_color   @base02;
@define-color sidebar_shade_color    rgba(0,0,0,0.25);
@define-color success_bg_color @base0B;
@define-color success_fg_color @base0B;
@define-color warning_bg_color @base0A;
@define-color warning_fg_color @base0A;
@define-color error_bg_color   @base08;
@define-color error_fg_color   @base08;
@define-color orange           @base09;
@define-color light_blue       @base0C;
@define-color purple           @base0E;


:root {
  /* Base16 tokens */
  --base00: @base00;  --base01: @base01;  --base02: @base02;
  --base03: @base03;  --base04: @base04;  --base05: @base05;
  --base06: @base06;  --base07: @base07;  --base08: @base08;
  --base09: @base09;  --base0A: @base0A;  --base0B: @base0B;
  --base0C: @base0C;  --base0D: @base0D;  --base0E: @base0E;
  --base0F: @base0F;

  /* Semantic colors */
  --window-bg-color:    @window_bg_color;
  --window-fg-color:    @window_fg_color;
  --view-bg-color:      @view_bg_color;
  --view-fg-color:      @view_fg_color;
  --accent-bg-color:    @accent_bg_color;
  --accent-fg-color:    @accent_color;
  --headerbar-bg-color: @headerbar_bg_color;
  --headerbar-fg-color: @headerbar_fg_color;
  --headerbar-border-color: @headerbar_border_color;
  --popover-bg-color:   @popover_bg_color;
  --popover-fg-color:   @popover_fg_color;
  --dialog-bg-color:    @dialog_bg_color;
  --dialog-fg-color:    @dialog_fg_color;
  --card-bg-color:      @card_bg_color;
  --card-fg-color:      @card_fg_color;
  --sidebar-bg-color:   @sidebar_bg_color;
  --sidebar-fg-color:   @sidebar_fg_color;
  --sidebar-backdrop-color: @sidebar_backdrop_color;
  --sidebar-border-color:   @sidebar_border_color;
  --sidebar-shade-color:    @sidebar_shade_color;
  --success-bg-color:  @success_bg_color;
  --success-fg-color:  @success_fg_color;
  --warning-bg-color:  @warning_bg_color;
  --warning-fg-color:  @warning_fg_color;
  --error-bg-color:    @error_bg_color;
  --error-fg-color:    @error_fg_color;
  --orange:            @orange;
  --light-blue:        @light_blue;
  --purple:            @purple;


  --shadow-inset-base01: #{general-inset-shadow(--base01)}, #{bg-highlight-inset-shadow(--base01)};
  --shadow-inset-base00: #{general-inset-shadow(--base00)}, #{bg-highlight-inset-shadow(--base00)};
  --shadow-inset-base0D: #{general-inset-shadow(--base0D)}, #{base0D-highlight-inset-shadow()};
  --shadow-inset-base02: #{general-inset-shadow(--base02)}, #{base02-highlight-inset-shadow()};
  --shadow-inset-base0D-thin: #{progress-empty-inset-shadow(--base0D)}, #{base0D-highlight-inset-shadow()};
  --shadow-inset-base02-thin: #{progress-empty-inset-shadow(--base02)}, #{base02-highlight-inset-shadow()};

  --shadow-thin-base00: #{general-thin-shadow(--base00)};
  --shadow-thin-base01: #{general-thin-shadow(--base01)};
  --shadow-thin-base02: #{general-thin-shadow(--base02)};
  --shadow-thin-base08: #{bright-thin-shadow(--base08)};
  --shadow-thin-base09: #{bright-thin-shadow(--base09)};
  --shadow-thin-base0A: #{bright-thin-shadow(--base0A)};
  --shadow-thin-base0B: #{bright-thin-shadow(--base0B)};
  --shadow-thin-base0D: #{bright-thin-shadow(--base0D)};

  --shadow-wide-base01: #{general-wide-shadow(--base01)};
  --shadow-wide-base02: #{general-wide-shadow(--base02)};
}
